{"ast":null,"code":"import { createSlice } from \"@reduxjs/toolkit\";\nconst initialState = {\n  balance: 0,\n  loan: 0,\n  loanPurpose: \"\"\n};\nconst accountSlice = createSlice({\n  name: \"account\",\n  initialState,\n  reducers: {\n    deposit(state, action) {\n      state.balance = state.balance + action.payload;\n    },\n    withdraw(state, action) {\n      state.balance -= action.payload;\n    },\n    requestLoan: {\n      prepare(amount, purpose) {\n        return {\n          payload: {\n            amount,\n            purpose\n          }\n        };\n      },\n      reducer(state, action) {\n        if (state.loan > 0) return;\n        state.loan = action.payload.amount;\n        state.loanPurpose = action.payload.purpose;\n        state.balance = state.balance + action.payload.amount;\n      }\n    },\n    payLoan(state, action) {\n      state.loan = 0;\n      state.loanPurpose = \"\";\n      state.balance -= state.loan;\n    }\n  }\n});\nexport const {\n  deposit,\n  withdraw,\n  requestLoan,\n  payLoan\n} = accountSlice.actions;\nexport default accountSlice.reducer;\n// export default function accountReducer(state = initialStateAccount, action) {\n//     switch (action.type) {\n//         case \"account/deposit\":\n//             return { ...state, balance: state.balance + action.payload };\n//         case \"account/withdraw\":\n//             return { ...state, balance: state.balance - action.payload };\n//         case \"account/requestLoan\":\n//             if (state.loan > 0) return state;\n//             // LATER\n//             return {\n//                 ...state,\n//                 loan: action.payload.amount,\n//                 loanPurpose: action.payload.purpose,\n//                 balance: state.balance + action.payload.amount,\n//             };\n//         case \"account/payLoan\":\n//             return {\n//                 ...state,\n//                 loan: 0,\n//                 loanPurpose: \"\",\n//                 balance: state.balance - state.loan,\n//             };\n\n//         default:\n//             return state;\n//     }\n// }\n\n// export function deposit(amount,currency) {\n//     if(currency===\"USD\")\n//     return { type: \"account/deposit\", payload: amount };\n\n//     return async function(dispatch,getState){\n//         const host = 'api.frankfurter.app';\n//         const res = await fetch(`https://${host}/latest?amount=${amount}&from=${currency}&to=USD`);\n//         const data = await res.json();\n//         const converted = data.rates.USD;\n\n//         dispatch({ type: \"account/deposit\", payload: converted });\n//     }\n// }\n\n// export function withdraw(amount) {\n//     return { type: \"account/withdraw\", payload: amount };\n// }\n\n// export function requestLoan(amount, purpose) {\n//     return {\n//         type: \"account/requestLoan\",\n//         payload: { amount, purpose },\n//     };\n// }\n\n// export function payLoan() {\n//     return { type: \"account/payLoan\" };\n// }","map":{"version":3,"names":["createSlice","initialState","balance","loan","loanPurpose","accountSlice","name","reducers","deposit","state","action","payload","withdraw","requestLoan","prepare","amount","purpose","reducer","payLoan","actions"],"sources":["D:/react.js/ultimate-react-course-main/15-redux-intro/starter/src/featuers/accounts/accountSlice.js"],"sourcesContent":["import { createSlice } from \"@reduxjs/toolkit\";\r\nconst initialState = {\r\n    balance: 0,\r\n    loan: 0,\r\n    loanPurpose: \"\",\r\n};\r\n\r\nconst accountSlice = createSlice({\r\n    name: \"account\",\r\n    initialState,\r\n    reducers: {\r\n        deposit(state, action) {\r\n            state.balance = state.balance + action.payload;\r\n        },\r\n        withdraw(state, action) {\r\n            state.balance -= action.payload;\r\n        },\r\n        requestLoan: {\r\n            prepare(amount,purpose){\r\n                return {\r\n                    payload:{amount,purpose}\r\n                }\r\n            },\r\n            reducer(state, action) {\r\n                if (state.loan > 0) return;\r\n\r\n                state.loan = action.payload.amount;\r\n                state.loanPurpose = action.payload.purpose;\r\n                state.balance = state.balance + action.payload.amount;\r\n            },\r\n        },\r\n        payLoan(state, action) {\r\n            state.loan = 0;\r\n            state.loanPurpose = \"\";\r\n            state.balance -= state.loan;\r\n        }\r\n    }\r\n})\r\nexport const { deposit, withdraw, requestLoan, payLoan } = accountSlice.actions;\r\nexport default accountSlice.reducer;\r\n// export default function accountReducer(state = initialStateAccount, action) {\r\n//     switch (action.type) {\r\n//         case \"account/deposit\":\r\n//             return { ...state, balance: state.balance + action.payload };\r\n//         case \"account/withdraw\":\r\n//             return { ...state, balance: state.balance - action.payload };\r\n//         case \"account/requestLoan\":\r\n//             if (state.loan > 0) return state;\r\n//             // LATER\r\n//             return {\r\n//                 ...state,\r\n//                 loan: action.payload.amount,\r\n//                 loanPurpose: action.payload.purpose,\r\n//                 balance: state.balance + action.payload.amount,\r\n//             };\r\n//         case \"account/payLoan\":\r\n//             return {\r\n//                 ...state,\r\n//                 loan: 0,\r\n//                 loanPurpose: \"\",\r\n//                 balance: state.balance - state.loan,\r\n//             };\r\n\r\n//         default:\r\n//             return state;\r\n//     }\r\n// }\r\n\r\n// export function deposit(amount,currency) {\r\n//     if(currency===\"USD\")\r\n//     return { type: \"account/deposit\", payload: amount };\r\n\r\n//     return async function(dispatch,getState){\r\n//         const host = 'api.frankfurter.app';\r\n//         const res = await fetch(`https://${host}/latest?amount=${amount}&from=${currency}&to=USD`);\r\n//         const data = await res.json();\r\n//         const converted = data.rates.USD;\r\n\r\n//         dispatch({ type: \"account/deposit\", payload: converted });\r\n//     }\r\n// }\r\n\r\n// export function withdraw(amount) {\r\n//     return { type: \"account/withdraw\", payload: amount };\r\n// }\r\n\r\n// export function requestLoan(amount, purpose) {\r\n//     return {\r\n//         type: \"account/requestLoan\",\r\n//         payload: { amount, purpose },\r\n//     };\r\n// }\r\n\r\n// export function payLoan() {\r\n//     return { type: \"account/payLoan\" };\r\n// }"],"mappings":"AAAA,SAASA,WAAW,QAAQ,kBAAkB;AAC9C,MAAMC,YAAY,GAAG;EACjBC,OAAO,EAAE,CAAC;EACVC,IAAI,EAAE,CAAC;EACPC,WAAW,EAAE;AACjB,CAAC;AAED,MAAMC,YAAY,GAAGL,WAAW,CAAC;EAC7BM,IAAI,EAAE,SAAS;EACfL,YAAY;EACZM,QAAQ,EAAE;IACNC,OAAOA,CAACC,KAAK,EAAEC,MAAM,EAAE;MACnBD,KAAK,CAACP,OAAO,GAAGO,KAAK,CAACP,OAAO,GAAGQ,MAAM,CAACC,OAAO;IAClD,CAAC;IACDC,QAAQA,CAACH,KAAK,EAAEC,MAAM,EAAE;MACpBD,KAAK,CAACP,OAAO,IAAIQ,MAAM,CAACC,OAAO;IACnC,CAAC;IACDE,WAAW,EAAE;MACTC,OAAOA,CAACC,MAAM,EAACC,OAAO,EAAC;QACnB,OAAO;UACHL,OAAO,EAAC;YAACI,MAAM;YAACC;UAAO;QAC3B,CAAC;MACL,CAAC;MACDC,OAAOA,CAACR,KAAK,EAAEC,MAAM,EAAE;QACnB,IAAID,KAAK,CAACN,IAAI,GAAG,CAAC,EAAE;QAEpBM,KAAK,CAACN,IAAI,GAAGO,MAAM,CAACC,OAAO,CAACI,MAAM;QAClCN,KAAK,CAACL,WAAW,GAAGM,MAAM,CAACC,OAAO,CAACK,OAAO;QAC1CP,KAAK,CAACP,OAAO,GAAGO,KAAK,CAACP,OAAO,GAAGQ,MAAM,CAACC,OAAO,CAACI,MAAM;MACzD;IACJ,CAAC;IACDG,OAAOA,CAACT,KAAK,EAAEC,MAAM,EAAE;MACnBD,KAAK,CAACN,IAAI,GAAG,CAAC;MACdM,KAAK,CAACL,WAAW,GAAG,EAAE;MACtBK,KAAK,CAACP,OAAO,IAAIO,KAAK,CAACN,IAAI;IAC/B;EACJ;AACJ,CAAC,CAAC;AACF,OAAO,MAAM;EAAEK,OAAO;EAAEI,QAAQ;EAAEC,WAAW;EAAEK;AAAQ,CAAC,GAAGb,YAAY,CAACc,OAAO;AAC/E,eAAed,YAAY,CAACY,OAAO;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA"},"metadata":{},"sourceType":"module","externalDependencies":[]}